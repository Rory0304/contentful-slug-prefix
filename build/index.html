<!doctype html><head><link href="https://static.contentful.com/app/main-62e0abc7.css" media="all" rel="stylesheet" type="text/css"><link href="https://static.contentful.com/app/vendor-976872d7.css" media="all" rel="stylesheet" type="text/css"><link href="https://contentful.github.io/ui-extensions-sdk/cf-extension.css" media="all" rel="stylesheet" type="text/css"><script type="text/javascript" src="https://unpkg.com/contentful-ui-extensions-sdk@3"></script></head><div class="widget-slug-editor"> <input id="slug" type="text" class="form-control" style="width:98%;font-size:14px"> <i id="error" class="fa fa-exclamation-triangle is-slug-duplicate"></i> <i id="ok" class="fa fa-check-circle is-slug-unique"></i> <i id="loading" class="fa fa-spin fa-spinner"></i> </div><script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/3.0.2/es6-promise.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/speakingurl/7.0.0/speakingurl.min.js"></script><script>const e=/[`~!@#$%^&*()_|+\-=?;:'",. <>\\{\\}\\[\]\\\\/]/g,n=/\s+/g;var t=window.contentfulExtension||window.contentfulWidget;t.init(function(t){var i=t.field,o=t.contentType.displayField,d=t.entry.fields[o],r=window._,l=r.debounce(c,500),u=document.getElementById("slug"),s={error:document.getElementById("error"),ok:document.getElementById("ok"),loading:document.getElementById("loading")};function a(t){var o,d,r;d=(r=o=t||"",r.replace(/ <\/?[^>]+(>|$)/g,"")).replace(e,"").replace(n,"-").toLowerCase(),u.value=o,i.setValue(d),g("loading"),l(d)}function c(e){(function(e){if(!e)return Promise.resolve(!1);var n={};return n.content_type=t.entry.getSys().contentType.sys.id,n["fields."+i.id]=e,n["sys.id[ne]"]=t.entry.getSys().id,n["sys.publishedAt[exists]"]=!0,t.space.getEntries(n).then(function(e){return e.total>0})})(e).then(function(e){g(e?"error":"ok")})}function g(e){r.each(s,function(n,t){n.style.display=t===e?"inline":"none"})}t.window.updateHeight(),d.onValueChanged(a),u.addEventListener("input",function(){a(u.value)}),u.addEventListener("change",function(){a(u.value)}),c(i.getValue())});</script>